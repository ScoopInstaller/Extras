{
    "version": "4.3.9",
    "description": "Free and reliable P2P Bittorent client.",
    "homepage": "https://www.qbittorrent.org/",
    "license": {
        "identifier": "GPL-2.0-only",
        "url": "https://github.com/qbittorrent/qBittorrent/blob/master/COPYING"
    },
    "architecture": {
        "64bit": {
            "url": "https://downloads.sourceforge.net/project/qbittorrent/qbittorrent-win32/qbittorrent-4.3.9/qbittorrent_4.3.9_x64_setup.exe#/dl.7z",
            "hash": "e1c63b0b1b1ea646bad7bb844426fab55c7178de167268ac8d76190ccfebf1c8"
        },
        "32bit": {
            "url": "https://downloads.sourceforge.net/project/qbittorrent/qbittorrent-win32/qbittorrent-4.3.9/qbittorrent_4.3.9_setup.exe#/dl.7z",
            "hash": "01487a0e2594a5065e4d780eb012dcd0dafadc218d1b6aba69528bd6ede6afb5"
        }
    },
    "pre_install": [
        "Remove-Item \"$dir\\`$PLUGINSDIR\" -Force -Recurse",
        "if ( (!(Test-Path \"$persist_dir\\profile\")) -and (Test-Path \"$env:APPDATA\\qBittorrent\") ) {",
        "    Write-Host \"Scoop is migrating qbittorrent to use portable mode by default.\" -ForeGroundColor Yellow",
        "    Write-Host \"For details, see: https://github.com/ScoopInstaller/Extras/pull/7173\" -ForeGroundColor Yellow",
        "    Write-Host \"Copying files from APPDATA to Scoop directory...\" -ForeGroundColor Yellow",
        "    New-Item \"$persist_dir\\profile\\config\", \"$persist_dir\\profile\\data\" -ItemType Directory | Out-Null",
        "    Copy-Item \"$env:APPDATA\\qBittorrent\\*\" \"$persist_dir\\profile\\config\" -Force -Recurse | Out-Null",
        "    Copy-Item \"$env:LOCALAPPDATA\\qBittorrent\\*\" \"$persist_dir\\profile\\data\" -Force -Recurse | Out-Null",
        "}"
    ],
    "post_install": [
        "if ( (!(Test-Path \"$persist_dir\\profile\")) -and (Test-Path \"$env:APPDATA\\qBittorrent\") ) {",
        "    Write-Host \"Scoop is migrating qbittorrent to use portable mode by default.\" -ForeGroundColor Yellow",
        "    Write-Host \"For details, see: https://github.com/ScoopInstaller/Extras/pull/7173\" -ForeGroundColor Yellow",
        "    Write-Host \"Copying files from APPDATA to Scoop directory...\" -ForeGroundColor Yellow",
        "    Copy-Item \"$env:APPDATA\\qBittorrent\\*\" \"$persist_dir\\profile\\config\" -Force | Out-Null",
        "    Copy-Item \"$env:LOCALAPPDATA\\qBittorrent\\*\" \"$persist_dir\\profile\\data\" -Force | Out-Null",
        "}"
    ],
    "bin": "qbittorrent.exe",
    "shortcuts": [
        [
            "qbittorrent.exe",
            "qBittorrent"
        ]
    ],
    "persist": "profile",
    "checkver": {
        "url": "https://www.qbittorrent.org/download.php",
        "regex": "Latest:\\s+v([\\d.]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://downloads.sourceforge.net/project/qbittorrent/qbittorrent-win32/qbittorrent-$version/qbittorrent_$version_x64_setup.exe#/dl.7z",
                "hash": {
                    "url": "https://www.qbittorrent.org/download.php",
                    "regex": "64-bit.*\\s+.*<code>$checksum</code>"
                }
            },
            "32bit": {
                "url": "https://downloads.sourceforge.net/project/qbittorrent/qbittorrent-win32/qbittorrent-$version/qbittorrent_$version_setup.exe#/dl.7z",
                "hash": {
                    "url": "https://www.qbittorrent.org/download.php",
                    "regex": "32-bit.*\\s+.*<code>$checksum</code>"
                }
            }
        }
    }
}
