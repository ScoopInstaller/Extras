{
    "version": "8.9.0",
    "description": "A free file archiver utility, based on Open Source technologies",
    "homepage": "https://www.peazip.org",
    "license": "LGPL-3.0-only",
    "architecture": {
        "64bit": {
            "url": "https://dotsrc.dl.osdn.net/osdn/peazip/77884/peazip_portable-8.9.0.WIN64.zip",
            "hash": "9fee014869a112d0aea2c3dd4b765f9a811cacf0bf3074172034d51ee9e972a2",
            "extract_dir": "peazip_portable-8.9.0.WIN64"
        },
        "32bit": {
            "url": "https://dotsrc.dl.osdn.net/osdn/peazip/77884/peazip_portable-8.9.0.WINDOWS.zip",
            "hash": "240cae01b1b3186c1006677415cf3460b9878908e132dd0834fa470c8fc4833c",
            "extract_dir": "peazip_portable-8.9.0.WINDOWS"
        }
    },
    "pre_install": [
        "$manifest.persist | ForEach-Object {",
        "    if ([io.path]::GetExtension($_)) {",
        "        if (!(Test-Path \"$persist_dir\\$_\")) { New-Item \"$dir\\$_\" | Out-Null }",
        "    }",
        "}",
        "'bookmarks.txt', 'custedit.txt' | ForEach-Object {",
        "   if (!(Test-Path \"$persist_dir\\res\\conf\\$_\")) { New-Item \"$dir\\res\\conf\\$_\" | Out-Null }",
        "}"
    ],
    "bin": [
        "peazip.exe",
        "pea.exe",
        [
            "res\\bin\\Configure PeaZip.exe",
            "configure-peazip"
        ]
    ],
    "shortcuts": [
        [
            "peazip.exe",
            "PeaZip"
        ],
        [
            "pea.exe",
            "PEA"
        ],
        [
            "res\\bin\\Configure PeaZip.exe",
            "Configure Peazip"
        ]
    ],
    "persist": [
        "res\\altconf.txt",
        "res\\bookmarks.txt",
        "res\\conf.txt",
        "res\\conf-lastgood.txt",
        "res\\custedit.txt",
        "res\\conf\\bookmarks.txt",
        "res\\conf\\conf.txt",
        "res\\conf\\conf-lastgood.txt",
        "res\\conf\\custedit.txt"
    ],
    "pre_uninstall": [
        "reg delete 'HKEY_CLASSES_ROOT\\AllFileSystemObjects\\shell\\PeaZip' /f",
        "reg delete 'HKEY_CLASSES_ROOT\\*\\shell\\PeaZip' /f"
    ],
    "checkver": {
        "url": "https://osdn.net/projects/peazip/",
        "regex": "<a href=\"/projects/peazip/releases/(?<release>[\\d]*)\">peazip ([\\d.]+)</a>"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://dotsrc.dl.osdn.net/osdn/peazip/$matchRelease/peazip_portable-$version.WIN64.zip",
                "extract_dir": "peazip_portable-$version.WIN64"
            },
            "32bit": {
                "url": "https://dotsrc.dl.osdn.net/osdn/peazip/$matchRelease/peazip_portable-$version.WINDOWS.zip",
                "extract_dir": "peazip_portable-$version.WINDOWS"
            }
        },
        "hash": {
            "url": "https://osdn.net/projects/peazip/downloads/$matchRelease/$basename",
            "regex": "(?sm)SHA256.*?$sha256"
        }
    }
}
