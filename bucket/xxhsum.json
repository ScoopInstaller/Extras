
{
  "version": "0.8.3",
  "description": "xxhsum CLI (xxHash) â€” x64 binary + ARM64 build",
  "homepage": "https://github.com/Cyan4973/xxHash",
  "license": "BSD-2-Clause",
  "architecture": {
    "64bit": {
      "url": "https://github.com/Cyan4973/xxHash/releases/download/v0.8.3/xxhsum_win64_v0_8_3.zip",
      "hash": "A6A6170D07CA37D74151DBEA9CD6E1DBB881B5CEEA34B9447E01F62B1442D40A"
    },
    "arm64": {
      "url": "https://github.com/Cyan4973/xxHash/archive/refs/tags/v0.8.3.tar.gz",
      "hash": "AAE608DFE8213DFD05D909A57718EF82F30722C392344583D3F39050C7F29A80",
      "extract_dir": "xxHash-0.8.3"
    }
  },
  "bin": "xxhsum.exe",
  "notes": {
    "arm64": "The ARM64 version is built from source and requires CMake."
  },
  "depends": {
    "arm64": "cmake"
  },
  "build": [
    "if ($architecture -eq 'arm64') {",
    "  cmake -B build -S . -DXXHASH_BUILD_ALL=OFF -DCMAKE_BUILD_TYPE=Release",
    "  cmake --build build --config Release --target xxhsum",
    "  if (!(Test-Path 'build/Release/xxhsum.exe')) { throw 'Build failed: xxhsum.exe not found' }",
    "  Copy-Item 'build/Release/xxhsum.exe' '$dir/xxhsum.exe'",
    "}"
  ],
  "checkver": "github",
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https://github.com/Cyan4973/xxHash/releases/download/v$version/xxhsum_win64_v$underscoreVersion.zip"
      },
      "arm64": {
        "url": "https://github.com/Cyan4973/xxHash/archive/refs/tags/v$version.tar.gz",
        "extract_dir": "xxHash-$version"
      }
    }
  }
}
