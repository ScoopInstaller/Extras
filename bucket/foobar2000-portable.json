{
    "version": "1.5.5",
    "description": "An advanced freeware audio player for the Windows platform.",
    "homepage": "https://www.foobar2000.org/",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.foobar2000.org/license"
    },
    "url": "https://www.videohelp.com/download/foobar2000_v1.5.5.exe#/dl.7z",
    "hash": "e5f983c12b2eda9c1e0bc6de95413005b61953be9bd1401398c5ba72713f23fd",
    "bin": "foobar2000.exe",
    "shortcuts": [
        [
            "foobar2000.exe",
            "Foobar2000"
        ]
    ],
    "persist": [
        "configuration",
        "index-data",
        "library",
        ["playlists-v1.4","playlists"],
        "user-components",
        "LargeFieldsConfig.txt"
    ],
    "suggest": {
        "Encoders": "extras/foobar2000-encoders"
    },
    "pre_install": [
        "if (!(Test-Path \"$persist_dir\")) {",
        "    New-Item \"$persist_dir\\playlists\" -ItemType Directory -Force | Out-Null",
        "    if (Test-Path \"$env:Appdata\\foobar2000\\playlists-v*\") {",
        "        Copy-Item \"$env:Appdata\\foobar2000\\playlists-v*\\*\" \"$persist_dir\\playlists\" -Force -Recurse",
        "    }",
        "    if (Test-Path \"$env:Appdata\\foobar2000\\configuration\") {",
        "        Copy-Item \"$env:Appdata\\foobar2000\\configuration\" \"$persist_dir\" -Force -Recurse",
        "    }",
        "    if (Test-Path \"$env:Appdata\\foobar2000\\index-data\") {",
        "        Copy-Item \"$env:Appdata\\foobar2000\\index-data\" \"$persist_dir\" -Force -Recurse",
        "    }",
        "    if (Test-Path \"$env:Appdata\\foobar2000\\library\") {",
        "        Copy-Item \"$env:Appdata\\foobar2000\\library\" \"$persist_dir\" -Force -Recurse",
        "    }",
        "    if (Test-Path \"$env:Appdata\\foobar2000\\user-components\") {",
        "        Copy-Item \"$env:Appdata\\foobar2000\\user-components\" \"$persist_dir\" -Force -Recurse",
        "    }",
        "    if (Test-Path \"$env:Appdata\\foobar2000\\LargeFieldsConfig.txt\") {",
        "        Copy-Item \"$env:Appdata\\foobar2000\\LargeFieldsConfig.txt\" \"$persist_dir\" -Force",
        "    }",
        "    if (Test-Path \"$env:Appdata\\foobar2000\\theme.fth\") {",
        "        Copy-Item \"$env:Appdata\\foobar2000\\theme.fth\" \"$persist_dir\" -Force",
        "    }",
        "}"
    ],
    "post_install": [
        "Remove-Item \"$dir\\`$*\", \"$dir\\uninstall.exe\" -Force -Recurse",
        "New-Item \"$dir\\portable_mode_enabled\" -Force | Out-Null",
        "if (is_directory \"$persist_dir\\LargeFieldsConfig.txt\") {",
        "    Remove-Item \"$dir\\LargeFieldsConfig.txt\" -Force -Recurse",
        "    Remove-Item \"$persist_dir\\LargeFieldsConfig.txt\" -Force -Recurse",
        "}",
        "if (Test-Path \"$persist_dir\\theme.fth\") {",
        "    Copy-Item \"$persist_dir\\theme.fth\" \"$dir\" -Force",
        "}",
        "if (Test-Path \"$(appdir foobar2000-encoders $global)\\current\") {",
        "    New-Item \"$dir\\encoders\" -ItemType Junction -Target \"$(appdir foobar2000-encoders $global)\\current\" | Out-Null",
        "}"
    ],
    "uninstaller": {
        "script": [
            "if (Test-Path \"$persist_dir\\LargeFieldsConfig.txt\") {",
            "    Remove-Item \"$persist_dir\\LargeFieldsConfig.txt\" -Force",
            "}",
            "if (Test-Path \"$dir\\LargeFieldsConfig.txt\") {",
            "    Copy-Item \"$dir\\LargeFieldsConfig.txt\" \"$persist_dir\" -Force",
            "}",
            "if (Test-Path \"$dir\\theme.fth\") {",
            "    Copy-Item \"$dir\\theme.fth\" \"$persist_dir\" -Force",
            "}"
        ]
    },
    "checkver": {
        "url": "https://www.foobar2000.org/download",
        "regex": "foobar2000_v([\\d.]+)\\."
    },
    "autoupdate": {
        "url": "https://www.videohelp.com/download/foobar2000_v$version.exe#/dl.7z"
    }
}
