{
    "version": "0.7.1",
    "description": "Follow everything in one place",
    "homepage": "https://folo.is/",
    "license": "GPL-3.0",
    "architecture": {
        "64bit": {
            "url": "https://github.com/RSSNext/Folo/releases/download/desktop%2Fv0.7.1/Folo-0.7.1-windows-x64.exe#/dl.7z",
            "hash": "sha512:e3e8924ec62a26753ed6e6f8ae4b94752c31d3a74347ce6aa1907e5a9aea8008a2fe70289a3433e4c720998962e401cd95e5bfc379b4458447f468d541cced73"
        }
    },
    "pre_install": [
        "Get-ChildItem \"$dir\\*\" -Exclude 'Folo-*nupkg' | Remove-Item",
        "Expand-7zipArchive \"$dir\\Folo-*-full.nupkg\" -ExtractDir 'lib\\net45' -Removal"
    ],
    "post_install": [
        "if (Test-Path $env:APPDATA\\Folo) {",
        "    Write-Host \"`r`nMove config from non-portable version...\"",
        "    Copy-Item -Path $env:APPDATA\\Folo\\* -Destination \"$persist_dir\\UserData\" -Force -Recurse | Out-Null",
        "    Remove-Item $env:APPDATA\\Folo -Force -Recurse",
        "}",
        "New-Item -ItemType Junction -Path $env:APPDATA\\Folo -Target $persist_dir\\UserData | Out-Null"
    ],
    "uninstaller": {
        "script": "Remove-Item $env:APPDATA\\Folo -Force -Recurse"
    },
    "shortcuts": [
        [
            "Folo.exe",
            "Folo"
        ]
    ],
    "persist": "UserData",
    "checkver": {
        "url": "https://api.github.com/repos/RSSNext/Folo/releases",
        "regex": "desktop/v([\\d.-]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/RSSNext/Folo/releases/download/desktop%2Fv$version/Folo-$version-windows-x64.exe#/dl.7z",
                "hash": {
                    "url": "$baseurl/latest.yml",
                    "regex": "(?sm)x64.exe.*?sha512:\\s+$base64"
                }
            }
        }
    }
}
