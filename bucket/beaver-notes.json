{
    "$schema": "https://raw.githubusercontent.com/ScoopInstaller/Scoop/master/schema.json",
    "version": "3.4.0",
    "description": "A privacy-focused note-taking application",
    "homepage": "https://beavernotes.com/",
    "license": "MIT",
    "architecture": {
        "64bit": {
            "url": "https://github.com/Beaver-Notes/Beaver-Notes/releases/download/3.4.0/Beaver-notes.3.4.0.portable.exe#/dl.7z",
            "hash": "1db43e5bf3aa22afea43cb404dca51418a01417a28ffba6e75417ae1464fae90"
        },
        "arm64": {
            "url": "https://github.com/Beaver-Notes/Beaver-Notes/releases/download/3.4.0/Beaver-notes.3.4.0.portable.arm64.exe#/dl.7z",
            "hash": "bce185ccc95896acd872fa654622cdcbdf38c94d97c18bb7d14e1fe85aea78ef"
        }
    },
    "pre_install": [
        "Expand-7zipArchive \"$dir\\`$PLUGINSDIR\\app*.7z\" \"$dir\"",
        "Remove-Item \"$dir\\`$*\", \"$dir\\Uninstall*\" -Force -Recurse"
    ],
    "shortcuts": [
        [
            "Beaver-notes.exe",
            "Beaver Notes"
        ]
    ],
    "persist": "data",
    "post_uninstall": [
        "if ($purge) {",
        "    $Directories = [string[]](",
        "        ('{0}\\Beaver-notes' -f $env:APPDATA)",
        "    )",
        "    $Directories.ForEach{",
        "        if ([System.IO.Directory]::Exists($_)) {",
        "            $null = [System.IO.Directory]::Delete($_,$true)",
        "        }",
        "    }",
        "}"
    ],
    "checkver": {
        "github": "https://github.com/Beaver-Notes/Beaver-Notes"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Beaver-Notes/Beaver-Notes/releases/download/$version/Beaver-notes.$version.portable.exe#/dl.7z"
            },
            "arm64": {
                "url": "https://github.com/Beaver-Notes/Beaver-Notes/releases/download/$version/Beaver-notes.$version.portable.arm64.exe#/dl.7z"
            }
        },
        "hash": {
            "url": "https://github.com/Beaver-Notes/Beaver-Notes/releases/tag/$version",
            "regex": "$sha256.*?$basename"
        }
    }
}
