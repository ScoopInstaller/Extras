{
    "version": "24.04",
    "description": "Powerful and intelligent flash cards",
    "homepage": "https://apps.ankiweb.net",
    "license": "AGPL-3.0-only",
    "suggest": {
        "vcredist": "extras/vcredist2008"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/ankitects/anki/releases/download/24.04/anki-24.04-windows-qt6.exe#/dl.7z",
            "hash": "5b5db854523c08b4e228e6e01d2cdb12c886403619e290e1b455a29a00689eee"
        }
    },
    "pre_install": [
        "@(",
        "    '@echo off'",
        "    'SET _allParams=\"%*\"'",
        "    'IF /i %_allParams:-b =%==%_allParams% ('",
        "    \"    start `\"anki`\" /D `\"%~dp0`\" `\"%~dp0anki.exe`\" -b `\"$persist_dir\\data`\" %*\"",
        "    ') ELSE ('",
        "    '    start \"anki\" /D \"%~dp0\" \"%~dp0anki.exe\" %*'",
        "    ')'",
        ") | Set-Content \"$dir\\anki.cmd\" -Encoding ASCII",
        "Remove-Item \"$dir\\`$*\" -Recurse"
    ],
    "bin": "anki.cmd",
    "shortcuts": [
        [
            "anki.cmd",
            "Anki",
            "",
            "anki.exe"
        ]
    ],
    "persist": "data",
    "checkver": {
        "github": "https://github.com/ankitects/anki"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/ankitects/anki/releases/download/$version/anki-$version-windows-qt6.exe#/dl.7z"
            }
        },
        "hash": {
            "url": "$baseurl/anki-$version-checksums.txt"
        }
    }
}
