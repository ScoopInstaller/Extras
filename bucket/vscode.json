{
    "homepage": "https://code.visualstudio.com/",
    "version": "1.45.1",
    "description": "Visual Studio Code is a lightweight but powerful source code editor.",
    "license": {
        "identifier": "Freeware",
        "url": "https://code.visualstudio.com/License/"
    },
    "notes": "Add Visual Studio Code as a context menu option by running: \"$dir\\vscode-install-context.reg\"",
    "bin": [
        [
            "bin\\code.cmd",
            "code"
        ]
    ],
    "shortcuts": [
        [
            "code.exe",
            "Visual Studio Code"
        ]
    ],
    "post_install": [
        "$null, $bucket = find_manifest($app)",
        "$bucketdir = Find-BucketDirectory($bucket)",
        "$scriptdir = \"$bucketdir\\..\\scripts\\vscode\"",
        "$codepath = \"$dir\\Code.exe\".Replace('\\', '\\\\')",
        "if ($global) {",
        "  $key = 'HKEY_LOCAL_MACHINE'",
        "} else {",
        "  $key = 'HKEY_CURRENT_USER'",
        "}",
        "if (Test-Path \"$scriptdir\\vscode-install-context.reg.templ\") {",
        "  $codepath = \"$dir\\Code.exe\".Replace('\\', '\\\\')",
        "  $content = Get-Content \"$scriptdir\\vscode-install-context.reg.templ\"",
        "  $content = $content.Replace('$key', $key)",
        "  $content = $content.Replace('$code', $codepath)",
        "  $content | Set-Content -Path \"$dir\\vscode-install-context.reg\"",
        "}",
        "if (Test-Path \"$scriptdir\\vscode-uninstall-context.reg.templ\") {",
        "  $content = Get-Content \"$scriptdir\\vscode-uninstall-context.reg.templ\"",
        "  $content = $content.Replace('$key', $key)",
        "  $content | Set-Content -Path \"$dir\\vscode-uninstall-context.reg\"",
        "}"
    ],
    "checkver": {
        "url": "https://code.visualstudio.com/sha?build=stable",
        "jp": "$.products[?(@.platform.os == 'win32-x64-archive')].name"
    },
    "architecture": {
        "64bit": {
            "url": "https://vscode-update.azurewebsites.net/1.45.1/win32-x64-archive/stable#/dl.7z",
            "hash": "72b33b8f5656b2746fc01f3ee6f715d64cb5400a8a8daf26bc32068b4ee2a1d6"
        },
        "32bit": {
            "url": "https://vscode-update.azurewebsites.net/1.45.1/win32-archive/stable#/dl.7z",
            "hash": "4056185bc0f185f686541ae45237eab7d488a79024488c74d2edcccc7e145e5b"
        }
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://vscode-update.azurewebsites.net/$version/win32-x64-archive/stable#/dl.7z",
                "hash": {
                    "url": "https://code.visualstudio.com/sha?build=stable",
                    "jp": "$.products[?(@.platform.os == 'win32-x64-archive')].sha256hash"
                }
            },
            "32bit": {
                "url": "https://vscode-update.azurewebsites.net/$version/win32-archive/stable#/dl.7z",
                "hash": {
                    "url": "https://code.visualstudio.com/sha?build=stable",
                    "jp": "$.products[?(@.platform.os == 'win32-archive')].sha256hash"
                }
            }
        }
    }
}
