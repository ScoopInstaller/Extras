{
    "version": "0.1.9",
    "homepage": "https://github.com/SamuelTulach/VirusTotalUploader",
    "description": "A simple application written in C# that allows for file uploading to the VirusTotal website. (Requires a Virustotal API Key)",
    "license": "GPL-3.0",
    "notes": [
        "For a guide on how to get your Virustotal API Key, visit",
        "https://github.com/SamuelTulach/VirusTotalUploader#how-to-get-api-key"
    ],
    "url": "https://github.com/SamuelTulach/VirusTotalUploader/releases/download/0.1.9/setup_anycpu_signed.zip",
    "hash": "142751060f6e68b989af65df8b16420e7d29979849f6aaa27e782d59901beae9",
    "pre_install": [
        "if (!(is_admin)) {error \"$app requires admin rights to $cmd\"; break}",
        "Rename-Item \"$dir\\uploader.exe\" 'setup.exe'; Expand-InnoArchive \"$dir\\setup.exe\" \"$dir\" -Removal",
        "if (!(Test-Path \"$dir\\vtu_settings.json\")) {",
        "   New-Item \"$dir\\vtu_settings.json\" -ItemType 'File' -Value '{\"ApiKey\":\"\",\"Language\":\"\",\"DirectUpload\":false}' | Out-Null",
        "}",
        "reg add 'HKLM\\SOFTWARE\\Classes\\*\\shell\\Upload to VirusTotal\\command' /v '(Default)' /t 'REG_SZ' /d \"\\\"\"$dir\\\\uploader.exe\\\"\" \\\"\"%1\\\"\"\" /f",
        "reg add 'HKCR\\*\\shell\\Upload to VirusTotal\\command' /v '(Default)' /t 'REG_SZ' /d \"\\\"\"$dir\\\\uploader.exe\\\"\" \\\"\"%1\\\"\"\" /f"
    ],
    "bin": "uploader.exe",
    "shortcuts": [
        [
            "uploader.exe",
            "VirusTotal Uploader"
        ]
    ],
    "persist": "vtu_settings.json",
    "pre_uninstall": [
        "if (!(is_admin)) {error \"$app requires admin rights to $cmd\"; break}",
        "if ($cmd -eq 'uninstall') {",
        "   reg delete 'HKLM\\SOFTWARE\\Classes\\*\\shell\\Upload to VirusTotal' /f",
        "   reg delete 'HKCR\\*\\shell\\Upload to VirusTotal' /f",
        "}"
    ],
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/SamuelTulach/VirusTotalUploader/releases/download/$version/portable_anycpu_signed.zip"
    }
}
