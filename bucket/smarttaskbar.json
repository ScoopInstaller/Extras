{
    "version": "1.4.5",
    "description": "A lightweight utility which can automatically switch the display state of the Windows Taskbar.",
    "homepage": "https://github.com/Oliviaophia/SmartTaskbar",
    "license": {
        "identifier": "MIT",
        "url": "https://github.com/Oliviaophia/SmartTaskbar/blob/main/LICENSE"
    },
    "notes": [
        "Run 'add-startup' to add SmartTaskbar to startup programs.",
        "Run 'remove-startup' to remove SmartTaskbar from startup programs.",
        "",
        "If an error occurs when updating or uninstalling, execute the following command then retry:",
        "- `Stop-Process -Name 'explorer' -Force -ErrorAction SilentlyContinue`"
    ],
    "url": "https://github.com/Oliviaophia/SmartTaskbar/releases/download/v1.4.5/SmartTaskbar_Setup.exe",
    "hash": "a7b08377906a3d41bfd54141f8bba8bd5c81cc07e157d7cdb63b23f71fde9a98",
    "innosetup": true,
    "installer": {
        "script": [
            "$startup_dir = shortcut_folder $global | Split-Path -Parent | Join-Path -ChildPath 'Startup'",
            "$current_dir = if (get_config NO_JUNCTIONS) { $dir } else { \"$(appdir $app $global)\\current\" }",
            "'add-startup', 'remove-startup' | ForEach-Object {",
            "    $startup_script = \"$bucketsdir\\$bucket\\scripts\\$app\\$_.ps1\"",
            "    if (Test-Path -Path $startup_script) {",
            "        $content = Get-Content -Path $startup_script -Encoding Ascii",
            "        $content = $content -replace '{{startup_dir}}', $startup_dir",
            "        $content = $content -replace '{{current_dir}}', $current_dir",
            "        $content | Set-Content -Path \"$dir\\$_.ps1\" -Encoding Ascii",
            "    }",
            "}"
        ]
    },
    "bin": [
        "add-startup.ps1",
        "SmartTaskbar.exe",
        "remove-startup.ps1"
    ],
    "shortcuts": [
        [
            "SmartTaskbar.exe",
            "SmartTaskbar"
        ]
    ],
    "uninstaller": {
        "file": "remove-startup.ps1"
    },
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/Oliviaophia/SmartTaskbar/releases/download/v$version/SmartTaskbar_Setup.exe"
    }
}
