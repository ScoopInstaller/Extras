{
    "version": "2.2.0.1_stable_2025-11-09",
    "description": "A free, open source, backup client that securely stores encrypted, incremental, compressed backups on cloud storage services and remote file servers.",
    "homepage": "https://www.duplicati.com/",
    "license": "MIT",
    "notes": [
        "If you want Duplicati to run at the startup of your system, run: (requires administrator privileges)",
        "start \"$dir\\Duplicati.WindowsService.exe\" -Verb 'RunAs' -ArgumentList 'install'",
        "",
        "To remove Duplicati from startup, run: (requires administrator privileges)",
        "start \"$dir\\Duplicati.WindowsService.exe\" -Verb 'RunAs' -ArgumentList 'uninstall'"
    ],
    "architecture": {
        "32bit": {
            "url": "https://github.com/duplicati/duplicati/releases/download/v2.2.0.1_stable_2025-11-09/duplicati-2.2.0.1_stable_2025-11-09-win-x86-gui.zip",
            "hash": "66498b960083110bdd821a2c6297afe92d226b7e0b4a95426b1120a5041bb89c",
            "extract_dir": "duplicati-2.2.0.1_stable_2025-11-09-win-x86-gui"
        },
        "64bit": {
            "url": "https://github.com/duplicati/duplicati/releases/download/v2.2.0.1_stable_2025-11-09/duplicati-2.2.0.1_stable_2025-11-09-win-x64-gui.zip",
            "hash": "c3bcbab07e8fb052cbe0d23b7ed54bccf1de78fba4a49987d92e4228d9ea56b1",
            "extract_dir": "duplicati-2.2.0.1_stable_2025-11-09-win-x64-gui"
        },
        "arm64": {
            "url": "https://github.com/duplicati/duplicati/releases/download/v2.2.0.1_stable_2025-11-09/duplicati-2.2.0.1_stable_2025-11-09-win-arm64-gui.zip",
            "hash": "09b4da7dc600dfb40574c1bb1730d1eb0224e5f6e2a7084d8b7abdb0d184b58c",
            "extract_dir": "duplicati-2.2.0.1_stable_2025-11-09-win-arm64-gui"
        }
    },
    "post_install": [
        "if (($cmd -eq 'update') -and ($env:duplicati_svc_installed -eq $true)) {",
        "    info 'Reinstalling service...'",
        "    if (!(is_admin)) { error 'Admin rights required to install Duplicati service'; break }",
        "    Start-Process \"$dir\\Duplicati.WindowsService.exe\" -Wait -Verb 'RunAs' -ArgumentList 'install' -WindowStyle 'Hidden'",
        "    $env:duplicati_svc_installed = $null",
        "}"
    ],
    "bin": [
        "Duplicati.CommandLine.exe",
        [
            "Duplicati.CommandLine.exe",
            "Duplicati-CLI"
        ],
        [
            "Duplicati.GUI.TrayIcon.exe",
            "Duplicati-GUI"
        ]
    ],
    "shortcuts": [
        [
            "Duplicati.GUI.TrayIcon.exe",
            "Duplicati"
        ]
    ],
    "pre_uninstall": [
        "if (Get-Service -Name 'Duplicati' -ErrorAction 'SilentlyContinue') {",
        "    info 'Uninstalling service...'",
        "    if (!(is_admin)) { error 'Admin rights required to remove Duplicati service'; break }",
        "    Stop-Service duplicati",
        "    if ($cmd -eq 'update') { $env:duplicati_svc_installed = $true }",
        "    Start-Process \"$dir\\Duplicati.WindowsService.exe\" -Wait -Verb 'RunAs' -ArgumentList 'uninstall' -WindowStyle 'Hidden'",
        "}"
    ],
    "checkver": {
        "url": "https://api.github.com/repos/duplicati/duplicati/releases/latest",
        "jsonpath": "$.tag_name",
        "regex": "v(.*)"
    },
    "autoupdate": {
        "architecture": {
            "32bit": {
                "url": "https://github.com/duplicati/duplicati/releases/download/v$version/duplicati-$version-win-x86-gui.zip",
                "extract_dir": "duplicati-$version-win-x86-gui"
            },
            "64bit": {
                "url": "https://github.com/duplicati/duplicati/releases/download/v$version/duplicati-$version-win-x64-gui.zip",
                "extract_dir": "duplicati-$version-win-x64-gui"
            },
            "arm64": {
                "url": "https://github.com/duplicati/duplicati/releases/download/v$version/duplicati-$version-win-arm64-gui.zip",
                "extract_dir": "duplicati-$version-win-arm64-gui"
            }
        }
    }
}
