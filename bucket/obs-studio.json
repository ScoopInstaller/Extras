{
    "version": "32.0.4",
    "description": "Video recording and live streaming software",
    "homepage": "https://obsproject.com",
    "license": "GPL-2.0-only",
    "notes": [
        "Add Virtual Camera module by running: \"$dir\\data\\obs-plugins\\win-dshow\\virtualcam-install.bat\"",
        "Remove it by running: \"$dir\\data\\obs-plugins\\win-dshow\\virtualcam-uninstall.bat\""
    ],
    "architecture": {
        "64bit": {
            "url": "https://cdn-fastly.obsproject.com/downloads/OBS-Studio-32.0.4-Windows-x64.zip",
            "hash": "fd367a7f156319426f1a600720c1288ad0011da168dff41e0f94dbb18cc1dc0f",
            "shortcuts": [
                [
                    "bin\\64bit\\obs64.exe",
                    "OBS Studio"
                ]
            ]
        },
        "arm64": {
            "url": "https://cdn-fastly.obsproject.com/downloads/OBS-Studio-32.0.4-Windows-arm64.zip",
            "hash": "89ff3f7a065089d6527837663d5fda79df64cffce480a129abe04d49745a204b",
            "shortcuts": [
                [
                    "bin\\64bit\\obs64.exe",
                    "OBS Studio"
                ]
            ]
        }
    },
    "pre_install": [
        "if (-not (Test-Path \"$persist_dir\\portable_mode.txt\")) {",
        "    New-Item -Path \"$dir\\portable_mode.txt\" -ItemType File -Force | Out-Null",
        "}"
    ],
    "post_install": [
        "'data', 'obs-plugins' | ForEach-Object {",
        "    $source_dir = Join-Path $dir \"$_.original\"",
        "    $destination_dir = Join-Path $dir $_",
        "    if (Test-Path \"$source_dir\") {",
        "        Copy-Item -Path \"$source_dir\\*\" -Destination $destination_dir -Force -Recurse",
        "        Remove-Item -Path $source_dir -Recurse -Force -ErrorAction SilentlyContinue",
        "    }",
        "}"
    ],
    "persist": [
        "data",
        "config",
        "obs-plugins",
        "portable_mode.txt"
    ],
    "checkver": {
        "github": "https://github.com/obsproject/obs-studio"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://cdn-fastly.obsproject.com/downloads/OBS-Studio-$version-Windows-x64.zip"
            },
            "arm64": {
                "url": "https://cdn-fastly.obsproject.com/downloads/OBS-Studio-$version-Windows-arm64.zip"
            }
        },
        "hash": {
            "url": "https://github.com/obsproject/obs-studio/releases/$version",
            "regex": "(?sm)$basename.*?$sha256"
        }
    }
}
