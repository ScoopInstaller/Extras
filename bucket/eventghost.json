{
    "version": "0.4.1.r1722",
    "description": "EventGhost is an advanced, event-driven automation tool for Windows.",
    "homepage": "https://eventghost.net/",
    "license": "GPL-2.0",
    "architecture": {
        "64bit": {
            "url": "https://github.com/EventGhost/EventGhost/releases/download/v0.4.1.r1722/EventGhost_0.4.1.r1722_Setup.exe",
            "hash": "43824b90ccd778ba9b1780e0916548896a0287ce110aa98aecee0aa9d3cdcfb2"
        }
    },
    "installer": {
        "script": [
            "# 1. Run the installer and wait for it to finish",
            "Start-Process -FilePath \"$dir\\$fname\" -ArgumentList @('/VERYSILENT', '/SUPPRESSMSGBOXES', '/NORESTART', \"/DIR=`\"$dir`\"\") -Wait",
            "",
            "# 2. Option B: Flatten directory if installer created a subdirectory",
            "if (Test-Path \"$dir\\EventGhost\\EventGhost.exe\") {",
            "    Get-ChildItem \"$dir\\EventGhost\\*\" | Move-Item -Destination \"$dir\" -Force",
            "    Remove-Item \"$dir\\EventGhost\" -Recurse -Force",
            "}",
            "",
            "# 3. Timing Fix: Wait 3 seconds for file locks to release before shimming",
            "Start-Sleep -Seconds 3"
        ]
    },
    "uninstaller": {
        "file": "unins000.exe",
        "args": [
            "/VERYSILENT",
            "/SUPPRESSMSGBOXES",
            "/NORESTART"
        ]
    },
    "bin": "EventGhost.exe",
    "shortcuts": [
        [
            "EventGhost.exe",
            "EventGhost"
        ]
    ],
    "persist": [
        "config",
        "plugins"
    ],
    "checkver": {
        "github": "https://github.com/EventGhost/EventGhost"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/EventGhost/EventGhost/releases/download/v$version/EventGhost_$version_Setup.exe"
            }
        }
    }
}
